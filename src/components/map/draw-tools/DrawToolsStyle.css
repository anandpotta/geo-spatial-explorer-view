
/* Ensure edit controls are visible */
.leaflet-draw.leaflet-control,
.leaflet-draw-toolbar,
.leaflet-draw-toolbar-top,
.leaflet-draw-actions,
.leaflet-draw-edit-toolbar {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  z-index: 1000 !important; /* Increased z-index */
  width: 30px !important; /* Single consistent width */
  position: relative !important;
}

/* Ensure edit and delete buttons are visible */
.leaflet-draw-edit-edit,
.leaflet-draw-edit-remove,
.leaflet-draw-draw-polygon,
.leaflet-draw-draw-rectangle,
.leaflet-draw-draw-marker,
.leaflet-draw-draw-circlemarker {
  display: inline-block !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  background-color: white !important; /* Add background color for visibility */
}

/* Image controls always visible */
.image-controls-wrapper,
.image-controls-container {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
  z-index: 9999 !important;
}

/* Ensure buttons in the image controls are clickable */
.image-controls-container button {
  pointer-events: auto !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Fix for SVG paths to ensure they're properly rendered with clearer images inside */
svg path.leaflet-interactive {
  fill-opacity: 1 !important; /* Increased from 0.2 to 1 for full image visibility */
  stroke-width: 2px; /* Reduced from 3 to be less intrusive */
  stroke-opacity: 0.7; /* Increased from 0.5 for better boundary visibility */
  stroke: #3388ff; /* Use default Leaflet blue color for better visibility */
  opacity: 1 !important; /* Ensure full opacity */
}

/* Make path clearer when selected */
svg path.leaflet-interactive.leaflet-editing-icon {
  fill-opacity: 1 !important;
  opacity: 1 !important;
}

/* Make handle points more visible during edit mode */
.leaflet-edit-marker-selected,
.leaflet-marker-draggable,
.leaflet-marker-icon {
  z-index: 10000 !important;
}

/* Make edit vertices more visible */
.leaflet-edit-resize,
.leaflet-edit-move,
.leaflet-edit-rotate,
.leaflet-vertex-icon,
.leaflet-middle-icon {
  z-index: 10000 !important;
}

/* Fix for flickering by preventing z-index changes */
.leaflet-top .leaflet-control {
  z-index: 9999 !important; /* Consistent z-index */
  transition: none !important; /* Prevent any animations that might cause flickering */
}

/* Additional fixes for control buttons stability */
.leaflet-draw-toolbar a {
  width: 30px !important;
  height: 30px !important;
  background-size: 270px 30px !important;
  border: 1px solid rgba(0, 0, 0, 0.2) !important;
}

/* Ensure stable positioning of control elements */
.leaflet-control {
  position: absolute !important;
  transform: none !important; /* Prevent transform changes */
}

/* Force absolute positioning to prevent controls from being hidden */
.leaflet-top {
  position: absolute !important;
  top: 0 !important;
  z-index: 1000 !important;
}

.leaflet-right {
  position: absolute !important;
  right: 0 !important;
  z-index: 1000 !important;
}

/* Ensure toolbar is properly visible */
.leaflet-draw-toolbar.leaflet-bar {
  box-shadow: 0 1px 5px rgba(0,0,0,0.4) !important;
  border-radius: 4px !important;
  background-color: white !important;
  border: 2px solid rgba(0,0,0,0.2) !important;
  margin-top: 10px !important;
}

/* Make toolbar buttons stand out more */
.leaflet-draw a {
  background-color: white !important;
  color: #333 !important;
}
