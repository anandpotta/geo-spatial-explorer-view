
<div class="dashboard-container">
  <!-- Dashboard Header -->
  <div class="dashboard-header">
    <h1>Geospatial Dashboard</h1>
    <div class="stats-grid">
      <div class="stat-card">
        <h3>Total Locations</h3>
        <p class="stat-value">{{ dashboardStats.totalLocations }}</p>
      </div>
      <div class="stat-card">
        <h3>Active Regions</h3>
        <p class="stat-value">{{ dashboardStats.activeRegions }}</p>
      </div>
      <div class="stat-card">
        <h3>Coverage</h3>
        <p class="stat-value">{{ dashboardStats.coverage }}</p>
      </div>
    </div>
  </div>

  <!-- Main Content Area -->
  <div class="dashboard-content">
    
    <!-- Map Section -->
    <div class="map-section">
      <div class="map-header">
        <h2>Interactive Map</h2>
        <div class="map-controls">
          <button 
            class="btn btn-primary" 
            (click)="setLocation(40.7128, -74.0060, 'New York')"
            [disabled]="!isMapReady">
            New York
          </button>
          <button 
            class="btn btn-primary" 
            (click)="setLocation(34.0522, -118.2437, 'Los Angeles')"
            [disabled]="!isMapReady">
            Los Angeles
          </button>
          <button 
            class="btn btn-secondary" 
            (click)="clearSelection()"
            [disabled]="!selectedLocation">
            Clear Selection
          </button>
        </div>
      </div>

      <!-- Loading State -->
      <div *ngIf="isLoading" class="loading-state">
        <div class="spinner"></div>
        <p>Loading Map...</p>
      </div>

      <!-- Map Component -->
      <div class="map-container" [class.hidden]="isLoading">
        <geo-map 
          [options]="mapOptions"
          [selectedLocation]="selectedLocation"
          (ready)="onMapReady($event)"
          (locationSelect)="onLocationSelect($event)"
          (error)="onMapError($event)">
        </geo-map>
      </div>
    </div>

    <!-- Info Panel -->
    <div class="info-panel">
      <h3>Location Details</h3>
      <div *ngIf="selectedLocation; else noSelection" class="location-info">
        <p><strong>Label:</strong> {{ selectedLocation.label }}</p>
        <p><strong>Latitude:</strong> {{ selectedLocation.y | number:'1.4-4' }}</p>
        <p><strong>Longitude:</strong> {{ selectedLocation.x | number:'1.4-4' }}</p>
      </div>
      <ng-template #noSelection>
        <p class="no-selection">No location selected</p>
      </ng-template>
    </div>

  </div>
</div>
